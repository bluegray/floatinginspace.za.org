<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content="HTML Tidy for Linux/x86 (vers 1st August 2004), see www.w3.org" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Opera css containing block bug</title>
<style type="text/css">
/*<![CDATA[*/
<!--
div.bug {
        width: 300px;
                height: 150%;  
        background-color: red;
        position: relative;     
        left: 100px; 
        top: 10px;
        border: 2px solid yellow;
}

div.correct {
        width: 300px;
        height: 200px;  
        background-color: red;
        position: relative;     
        left: 450px; 
        top: -194px;
        border: 2px solid yellow;
}

div.h {
        height: 200px;
}
         
div.l {
        width: 300px;
        height: 100%;   
        background-color: #00547F;
        position: absolute;     
        left: 0px; 
        top: 0px;
}

img.screenshot {
        border: 2px solid yellow;       
}
div.screenshot {
        position: relative;     
        left: 800px; 
        top: -398px;
}

div.screenshot2 {
        position: relative;     
        left: 450px; 
        top: -554px;
}

div.l2 {
        width: 300px;
        height: 100%;   
        background-color: #00547F;
        position: absolute;     
        left: 10px; 
        top: 10px;
}
div.bug2 {
        width: 300px;
        background-color: red;
        position: relative;     
        left: 100px; 
        top: -350px;
        border: 2px solid yellow;
}

pre {
  font-size:10px;
  color: white;
  border:1px solid black;
  width: 80%;
  margin: 3px auto;
  background-color: #555555;
  padding:1em;
  }

 div.home {float: right;margin:0px 10px;}
 a.home {color: #888888;}
 
.contact, a.contact:link, a.contact:visited {
  text-align: center;
  color: #7F7F7F;
  background-color: transparent;  
} 
a.contact:hover {
  color: #000000;
} 
a.contact:active {
  color: #ffffff;
} 
.center {
  text-align: center;        
  position: relative;     
  top: -500px;
} 

img.clear {
  background-image: none;
  border: 0px;
}  
-->
/*]]>*/
</style>
</head>

<body>
  <h4>This is a bug in opera 8.01.</h4>

  <p>The percentage height of an absolutely positioned block should be a percentage of it's containing block.
  The size of the containing block is established by it's nearest block level ancestor with a 'position' of
  'absolute', 'relative' or 'fixed'.
  <br />
  <a href="http://www.w3.org/TR/CSS21/visudet.html#containing-block-details">CSS 2.1 Definition of
  "containing block"</a>
  <br />
  <a href="http://www.w3.org/TR/CSS21/visudet.html#the-height-property">CSS 2.1 'height' property</a></p>
  <h4>The css code:</h4>
  <pre>
div.bug {
        width: 300px;
        background-color: red;
        position: relative;     
        left: 100px; 
        top: 10px;
        border: 2px solid yellow;
}

div.correct {
        width: 300px;
        height: 200px;  
        background-color: red;
        position: relative;     
        left: 450px; 
        top: -194px;
        border: 2px solid yellow;
}

div.h {
        height: 200px;
}
         
div.l {
        width: 300px;
        height: 100%;   
        background-color: #00547F;
        position: absolute;     
        left: 0px; 
        top: 0px;
}
  </pre>


  <p>The first box displays incorrectly in opera - you should not see any red. The height of div.l (blue
  background) should be 100% of the height of div.bug (yellow border). The height of div.bug is because
  of it's content's height (div.h).</p><p>Opera sets the height of div.l to the height of it's content and not the height of it's containing block.</p>

  <div class="bug">
    <div class="h"></div>

    <div class="l">
      <pre class="c4">
&lt;div class="bug"&gt;
  &lt;div class="h"&gt;&lt;/div&gt;
  &lt;div class="l"&gt;
    some content
  &lt;/div&gt;
&lt;/div&gt;
      </pre>
    </div>
  </div>

  <div class="correct">
    <div class="h"></div>

    <div class="l">
      <pre>
&lt;div class="correct"&gt;
  &lt;div class="h"&gt;&lt;/div&gt;
  &lt;div class="l"&gt;
    some content
  &lt;/div&gt;
&lt;/div&gt;    
      </pre>
    </div>

    <p>this is how it should look</p>
  </div>

  <div class="screenshot">
    <img class="screenshot" src="opera_css_bug.png" width="300" height="200" alt="opera_css_bug.png" />

    <p>screenshot from opera 8.01 for linux</p>
  </div>
  
 
</body>
</html>
