---
title: W850i UTF-8 and ID3v2.4 bug
author: bluegray
layout: post
permalink: /2007/technical/w850i-utf-8-and-id3v24-bug/79/
categories:
  - computer
  - music
  - programming
  - technical
---
# 

Arrghh! A unicode/utf/latin-1 confusism again...  
Been playing around with my new Sony Ericsson W850 - and so far it's pretty impressive. 

But there's a problem with some mp3 ID3 tags which I tracked down to be UTF-8 used in some ID3v2.4 tags. I first thought it choked on the ID3v2.4 tag like so many other crappy players, but it handles ID3v2.4 fine if you convert the encoding to Latin-1 or UTF-16.

ID3v2.3 does not allow UTF-8, which is why it will always work fine. ID3v2.4 adds UTF-8 support, so this is a bug in the phone software. I'm using version R1JG001.

I used [eyeD3][1] to convert the tags, which can also add album art btw.

 [1]: http://eyed3.nicfit.net/

Edit:  
It looks like there's a problem with track numbers as well. UTF-16 works fine, but track numbers are mixed up, so the tracks play out of order. And **don't try UTF-16BE.** Your phone will *reboot repeatedly until you remove those files*. Looks like using either ID3v2.3 or ID3v2.4 doesn't matter. So all that is left is Latin-1 encoded tags.

*So if you have problems, make sure you don't use UTF or unicode encoded tags on your mp3s*

I made this rough python script to convert to lower bitrate mp3s and fix the tags to work with the W850i. It will also add any picture named folder.jpg or album.jpg in the same directory as album art to the tag.  
